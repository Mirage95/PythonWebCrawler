def check_sudoku(p):
    digit = 1
    n = len(p)
    while digit <= n:
        i = 0
        while i < n:
            j = 0
            row = 0
            col = 0
            while j < n:
                if p[i][j] == digit:
                    row += 1
                if p[j][i] == digit:
                    col += 1
                j += 1
            if row != 1 or col != 1:
                    return False
            i += 1
        digit += 1
    return True
